{"version":3,"file":"Radio.js","sources":["../src/components/Input/Radio.js"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport Checkbox from './Checkbox'\nimport { RadioGroupConsumer } from '../Radio/RadioGroup'\nimport { noop } from '../../utils'\n\nconst KEYS_PREV = [\n  'ArrowUp',\n  'ArrowLeft',\n  // IE / Edge support\n  'Up',\n  'Left',\n]\n\nconst KEYS_NEXT = [\n  'ArrowDown',\n  'ArrowRight',\n  // IE / Edge support\n  'Down',\n  'Right',\n]\n\nclass RadioButton extends React.PureComponent {\n  static propTypes = {\n    addRadio: PropTypes.func,\n    checked: PropTypes.bool,\n    disabled: PropTypes.bool,\n    id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    onChange: PropTypes.func,\n    removeRadio: PropTypes.func,\n    selectNext: PropTypes.func,\n    selectPrev: PropTypes.func,\n    tabIndex: PropTypes.string,\n  }\n  static defaultProps = {\n    addRadio: noop,\n    checked: false,\n    disabled: false,\n    id: null,\n    onChange: undefined, // <Button /> need to detect if onChange has been set\n    removeRadio: noop,\n    selectNext: noop,\n    selectPrev: noop,\n  }\n  _element = React.createRef()\n  componentDidMount() {\n    const { addRadio, id } = this.props\n    if (addRadio && id !== null) {\n      addRadio(id)\n    }\n  }\n  componentWillUnmount() {\n    const { removeRadio, id } = this.props\n    if (removeRadio && id !== null) {\n      removeRadio(id)\n    }\n  }\n  componentDidUpdate(prevProps) {\n    const { checked } = this.props\n    if (checked && !prevProps.checked) {\n      this._element.current.focus()\n    }\n  }\n  handleKeyDown = event => {\n    const { selectPrev, selectNext } = this.props\n    if (KEYS_PREV.includes(event.key)) {\n      selectPrev()\n      event.preventDefault()\n    }\n    if (KEYS_NEXT.includes(event.key)) {\n      selectNext()\n      event.preventDefault()\n    }\n  }\n  handleChange = () => {\n    const { onChange, id } = this.props\n    if (onChange) {\n      onChange(id)\n    }\n  }\n  render() {\n    const { checked, disabled, id, onChange, tabIndex, ...props } = this.props\n    return (\n      <Checkbox\n        ref={this._element}\n        checked={checked}\n        disabled={disabled}\n        onChange={this.handleChange}\n        onKeyDown={this.handleKeyDown}\n        tabIndex={tabIndex}\n        variant=\"radio\"\n        {...props}\n      />\n    )\n  }\n}\n\nclass Radio extends React.PureComponent {\n  static propTypes = RadioButton.propTypes\n  static defaultProps = RadioButton.defaultProps\n  render() {\n    const { props } = this\n    return (\n      <RadioGroupConsumer>\n        {({\n          onChange,\n          selected,\n          focusableId,\n          addRadio,\n          removeRadio,\n          selectNext,\n          selectPrev,\n        }) => (\n          <RadioButton\n            {...props}\n            onChange={props.onChange || onChange}\n            checked={\n              props.checked || (props.id === selected && selected !== null)\n            }\n            tabIndex={\n              props.tabIndex ||\n              (focusableId === undefined || props.id === focusableId\n                ? '0'\n                : '-1')\n            }\n            addRadio={addRadio}\n            removeRadio={removeRadio}\n            selectPrev={selectPrev}\n            selectNext={selectNext}\n          />\n        )}\n      </RadioGroupConsumer>\n    )\n  }\n}\n\nexport default Radio\n"],"names":["KEYS_PREV","KEYS_NEXT","RadioButton","React","PureComponent","createRef","event","selectPrev","selectNext","props","includes","key","preventDefault","onChange","id","componentDidMount","addRadio","componentWillUnmount","removeRadio","componentDidUpdate","prevProps","checked","_element","current","focus","render","disabled","tabIndex","Checkbox","handleChange","handleKeyDown","PropTypes","func","bool","oneOfType","string","number","noop","undefined","Radio","RadioGroupConsumer","selected","focusableId","propTypes","defaultProps"],"mappings":"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"}