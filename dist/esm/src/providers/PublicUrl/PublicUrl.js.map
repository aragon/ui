{"version":3,"file":"PublicUrl.js","sources":["../../../../../src/providers/PublicUrl/PublicUrl.js"],"sourcesContent":["import React, { useContext } from 'react'\nimport PropTypes from 'prop-types'\nimport getDisplayName from 'react-display-name'\nimport { prefixUrl } from '../../utils/url'\n\nconst PublicUrlContext = React.createContext('')\nconst { Provider, Consumer } = PublicUrlContext\n\nclass PublicUrlProvider extends React.PureComponent {\n  static propTypes = {\n    url: PropTypes.string.isRequired,\n    children: PropTypes.node,\n  }\n  render() {\n    const { url, children } = this.props\n    return <Provider value={url}>{children}</Provider>\n  }\n}\n\n// HOC wrapper\nconst hocWrap = Component => {\n  const HOC = props => (\n    <Consumer>{url => <Component {...props} publicUrl={url} />}</Consumer>\n  )\n  HOC.displayName = `PublicUrlProvider(${getDisplayName(Component)})`\n  return HOC\n}\n\n// styled-components utility for URLs\nconst styledUrl = url => ({ publicUrl }) => prefixUrl(url, publicUrl)\n\nconst PublicUrl = props => <Consumer {...props} />\nPublicUrl.Provider = PublicUrlProvider\nPublicUrl.hocWrap = hocWrap\nPublicUrl.styledUrl = styledUrl\n\nfunction usePublicUrl() {\n  return useContext(PublicUrlContext)\n}\n\nexport { PublicUrl, Provider, hocWrap, styledUrl, usePublicUrl }\nexport default PublicUrl\n"],"names":["PublicUrlContext","React","createContext","Provider","Consumer","PublicUrlProvider","PureComponent","render","url","children","props","PropTypes","string","isRequired","node","hocWrap","Component","HOC","displayName","getDisplayName","styledUrl","publicUrl","prefixUrl","PublicUrl","usePublicUrl","useContext"],"mappings":";;;;;;;AAKA,MAAMA,gBAAgB,gBAAGC,KAAK,CAACC,aAAN,CAAoB,EAApB,CAAzB;MACM;AAAEC,EAAAA,QAAF;AAAYC,EAAAA;AAAZ,IAAyBJ;;AAE/B,MAAMK,iBAAN,SAAgCJ,KAAK,CAACK,aAAtC,CAAoD;AAKlDC,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEC,MAAAA,GAAF;AAAOC,MAAAA;AAAP,QAAoB,KAAKC,KAA/B;AACA,wBAAO,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAEF;AAAjB,OAAuBC,QAAvB,CAAP;AACD;;AARiD;;;gBAA9CJ,gCACe;AACjBG,EAAAA,GAAG,EAAEG,SAAS,CAACC,MAAV,CAAiBC,UADL;AAEjBJ,EAAAA,QAAQ,EAAEE,SAAS,CAACG;AAFH;;MAWfC,OAAO,GAAGC,SAAS,IAAI;AAC3B,QAAMC,GAAG,GAAGP,KAAK,iBACf,oBAAC,QAAD,QAAWF,GAAG,iBAAI,oBAAC,SAAD,eAAeE,KAAf;AAAsB,IAAA,SAAS,EAAEF;AAAjC,KAAlB,CADF;;AAGAS,EAAAA,GAAG,CAACC,WAAJ,GAAmB,qBAAoBC,cAAc,CAACH,SAAD,CAAY,GAAjE;AACA,SAAOC,GAAP;AACD;;;MAGKG,SAAS,GAAGZ,GAAG,IAAI,CAAC;AAAEa,EAAAA;AAAF,CAAD,KAAmBC,SAAS,CAACd,GAAD,EAAMa,SAAN;;MAE/CE,SAAS,GAAGb,KAAK,iBAAI,oBAAC,QAAD,EAAcA,KAAd;;AAC3Ba,SAAS,CAACpB,QAAV,GAAqBE,iBAArB;AACAkB,SAAS,CAACR,OAAV,GAAoBA,OAApB;AACAQ,SAAS,CAACH,SAAV,GAAsBA,SAAtB;;AAEA,SAASI,YAAT,GAAwB;AACtB,SAAOC,UAAU,CAACzB,gBAAD,CAAjB;AACD;;;;"}