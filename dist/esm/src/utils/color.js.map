{"version":3,"file":"color.js","sources":["../../../../src/utils/color.js"],"sourcesContent":["const RGB_HEX_RE = /^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/\n\nfunction rgbFromRgbInt(rgbInt) {\n  return {\n    r: Math.floor(rgbInt / Math.pow(256, 2)),\n    g: Math.floor((rgbInt / 256) % 256),\n    b: Math.floor(rgbInt % 256),\n  }\n}\n\nfunction normalizeHexColor(value) {\n  const matches = value ? String(value).match(RGB_HEX_RE) : null\n\n  if (matches === null) {\n    throw new Error(\n      `color(): the value must be a valid CSS hexadecimal color. Received: ${value}`\n    )\n  }\n\n  const hexColor = matches[1].toUpperCase()\n\n  if (hexColor.length === 3) {\n    return [...hexColor].map(c => c + c).join('')\n  }\n\n  return hexColor\n}\n\nclass Color extends String {\n  constructor(value) {\n    super(value)\n\n    const hexColor = normalizeHexColor(value)\n    const { r, g, b } = rgbFromRgbInt(parseInt(hexColor, 16))\n\n    this.r = r\n    this.g = g\n    this.b = b\n    this.hexColor = hexColor\n  }\n  toString() {\n    return this.toCssRgb()\n  }\n  valueOf() {\n    return this.toCssRgb()\n  }\n  toArray() {\n    return [this.r, this.g, this.b]\n  }\n  toObject() {\n    const { r, g, b } = this\n    return { r, g, b }\n  }\n  alpha(alpha) {\n    return this.toCssRgb({ alpha })\n  }\n  toCssRgb({ alpha = 1 } = {}) {\n    if (alpha === 1) {\n      return `#${this.hexColor}`\n    }\n    alpha = Math.max(0, Math.min(1, alpha))\n    return `rgba(${this.r}, ${this.g}, ${this.b}, ${alpha})`\n  }\n}\n\nfunction color(value) {\n  return new Color(value)\n}\n\nexport default color\n"],"names":["RGB_HEX_RE","rgbFromRgbInt","rgbInt","r","Math","floor","pow","g","b","normalizeHexColor","value","matches","String","match","Error","hexColor","toUpperCase","length","map","c","join","Color","constructor","parseInt","toString","toCssRgb","valueOf","toArray","toObject","alpha","max","min","color"],"mappings":"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"}