{"version":3,"file":"SearchInput.js","sources":["../../../../../src/components/Input/SearchInput.js"],"sourcesContent":["import React, { useRef, useCallback } from 'react'\nimport ButtonIcon from '../Button/ButtonIcon'\nimport TextInput from './TextInput'\nimport { IconSearch, IconCross } from '../../icons'\nimport { useTheme } from '../../theme'\n\nconst EMPTY = ''\n\nconst SearchInput = React.forwardRef(({ onChange, ...props }, ref) => {\n  const theme = useTheme()\n  const fallbackRef = useRef()\n  const _ref = ref || fallbackRef\n\n  const handleChange = useCallback(\n    ev => {\n      const { value } = ev.currentTarget\n      onChange(value, { inputChangeEvent: ev })\n    },\n    [onChange]\n  )\n\n  const handleClearClick = useCallback(\n    ev => {\n      onChange(EMPTY, { clearClickEvent: ev })\n      if (_ref.current) {\n        _ref.current.focus()\n      }\n    },\n    [onChange, _ref]\n  )\n\n  return (\n    <TextInput\n      ref={_ref}\n      adornment={\n        (props.value || '') === EMPTY ? (\n          <IconSearch\n            css={`\n              color: ${theme.surfaceIcon};\n            `}\n          />\n        ) : (\n          <ButtonIcon\n            onClick={handleClearClick}\n            label=\"Clear search input\"\n            css={`\n              color: ${theme.surfaceIcon};\n            `}\n          >\n            <IconCross />\n          </ButtonIcon>\n        )\n      }\n      adornmentPosition=\"end\"\n      onChange={handleChange}\n      {...props}\n    />\n  )\n})\n\nSearchInput.propTypes = {\n  ...TextInput.propTypes,\n}\n\nexport default SearchInput\n"],"names":["EMPTY","SearchInput","React","forwardRef","onChange","props","ref","theme","useTheme","fallbackRef","useRef","_ref","handleChange","useCallback","ev","value","currentTarget","inputChangeEvent","handleClearClick","clearClickEvent","current","focus","TextInput","surfaceIcon","propTypes"],"mappings":";;;;;;;;;AAMA,MAAMA,KAAK,GAAG,EAAd;MAEMC,WAAW,gBAAGC,KAAK,CAACC,UAAN,CAAiB,CAAC;AAAEC,EAAAA,QAAF;AAAY,KAAGC;AAAf,CAAD,EAAyBC,GAAzB,KAAiC;AACpE,QAAMC,KAAK,GAAGC,QAAQ,EAAtB;AACA,QAAMC,WAAW,GAAGC,MAAM,EAA1B;;AACA,QAAMC,IAAI,GAAGL,GAAG,IAAIG,WAApB;;AAEA,QAAMG,YAAY,GAAGC,WAAW,CAC9BC,EAAE,IAAI;AACJ,UAAM;AAAEC,MAAAA;AAAF,QAAYD,EAAE,CAACE,aAArB;AACAZ,IAAAA,QAAQ,CAACW,KAAD,EAAQ;AAAEE,MAAAA,gBAAgB,EAAEH;AAApB,KAAR,CAAR;AACD,GAJ6B,EAK9B,CAACV,QAAD,CAL8B,CAAhC;AAQA,QAAMc,gBAAgB,GAAGL,WAAW,CAClCC,EAAE,IAAI;AACJV,IAAAA,QAAQ,CAACJ,KAAD,EAAQ;AAAEmB,MAAAA,eAAe,EAAEL;AAAnB,KAAR,CAAR;;AACA,QAAIH,IAAI,CAACS,OAAT,EAAkB;AAChBT,MAAAA,IAAI,CAACS,OAAL,CAAaC,KAAb;AACD;AACF,GANiC,EAOlC,CAACjB,QAAD,EAAWO,IAAX,CAPkC,CAApC;AAUA,sBACE,oBAACW,gBAAD;AACE,IAAA,GAAG,EAAEX,IADP;AAEE,IAAA,SAAS,EACP,CAACN,KAAK,CAACU,KAAN,IAAe,EAAhB,MAAwBf,KAAxB,gBACE;AAAA,aAEaO,KAAK,CAACgB;AAFnB,MADF,gBAOE;AACE,MAAA,OAAO,EAAEL,gBADX;AAEE,MAAA,KAAK,EAAC,oBAFR;AAAA,cAIaX,KAAK,CAACgB;AAJnB,oBAOE,oBAAC,SAAD,OAPF,CAVN;AAqBE,IAAA,iBAAiB,EAAC,KArBpB;AAsBE,IAAA,QAAQ,EAAEX;AAtBZ,KAuBMP,KAvBN,EADF;AA2BD,CAlDmB;AAoDpBJ,WAAW,CAACuB,SAAZ,GAAwB,EACtB,GAAGF,gBAAS,CAACE;AADS,CAAxB;;;;;;;;;;;;;;"}