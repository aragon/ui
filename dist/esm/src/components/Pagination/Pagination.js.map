{"version":3,"file":"Pagination.js","sources":["../../../../../src/components/Pagination/Pagination.js"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport { GU } from '../../style'\nimport { noop } from '../../utils'\nimport { PaginationItem } from './PaginationItem'\nimport { PaginationSeparator } from './PaginationSeparator'\n\nfunction paginationItems(pages, selected) {\n  const all = [...Array(pages)].map((_, i) => i)\n\n  if (all.length < 6) {\n    return all\n  }\n\n  const first = 0\n  const last = all.length - 1\n  const prev = Math.min(all.length, Math.max(0, selected - 1))\n  const next = Math.min(all.length, Math.max(0, selected + 1))\n\n  const items = []\n\n  // Selected item + previous + next\n  items.push(...all.slice(prev, next + 1))\n\n  // Display three items, even if the first / last one is selected\n  if (selected === last) {\n    items.unshift(last - 2)\n  }\n  if (selected === first) {\n    items.push(first + 2)\n  }\n\n  // Ellipsises\n  if (prev > first + 1) {\n    items.unshift(-1)\n  }\n  if (next < last - 1) {\n    items.push(-1)\n  }\n\n  // Always display the first & last items\n  if (prev >= first + 1) {\n    items.unshift(all[0])\n  }\n  if (next <= last - 1) {\n    items.push(all[all.length - 1])\n  }\n\n  return items\n}\n\nconst Pagination = React.memo(function Pagination({\n  pages,\n  selected,\n  onChange,\n  touchMode,\n  ...props\n}) {\n  const items = paginationItems(pages, selected)\n  return (\n    <div\n      css={`\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        padding: ${2 * GU}px 0;\n        & > div + div {\n          margin-left: ${1 * GU}px;\n        }\n      `}\n      {...props}\n    >\n      {items.map((pageIndex, i) =>\n        pageIndex === -1 ? (\n          <PaginationSeparator key={`separator-${i}`} />\n        ) : (\n          <PaginationItem\n            key={pageIndex}\n            index={pageIndex}\n            selected={selected === pageIndex}\n            onChange={onChange}\n            touchMode={touchMode}\n          />\n        )\n      )}\n    </div>\n  )\n})\n\nPagination.propTypes = {\n  onChange: PropTypes.func,\n  pages: PropTypes.number,\n  selected: PropTypes.number,\n  touchMode: PropTypes.bool,\n}\n\nPagination.defaultProps = {\n  onChange: noop,\n  pages: 0,\n  selected: 0,\n  touchMode: false,\n}\n\nexport default Pagination\n"],"names":["paginationItems","pages","selected","all","Array","map","_","i","length","first","last","prev","Math","min","max","next","items","push","slice","unshift","Pagination","React","memo","onChange","touchMode","props","GU","pageIndex","propTypes","PropTypes","func","number","bool","defaultProps","noop"],"mappings":"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"}