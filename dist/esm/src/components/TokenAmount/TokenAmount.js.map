{"version":3,"file":"TokenAmount.js","sources":["../../../../../src/components/TokenAmount/TokenAmount.js"],"sourcesContent":["import React from 'react'\nimport PropTypes from '../../proptypes'\nimport { useToken, UseTokenProvider } from 'use-token'\nimport TokenAmountLib from 'token-amount'\nimport { useImageExists } from '../../hooks'\nimport { GU, textStyle } from '../../style'\nimport { isAddress } from '../../utils'\nimport { useTheme } from '../../theme'\n\nconst TokenAmount = React.memo(function TokenAmount({\n  address,\n  amount,\n  chainId,\n  decimals,\n  digits,\n  iconUrl,\n  size,\n  symbol,\n  ...props\n}) {\n  const isValidAddress = isAddress(address)\n\n  if (!isValidAddress && !symbol) {\n    throw new Error(\n      'TokenAmount: you need to provide a valid address or a symbol'\n    )\n  }\n\n  return (\n    <UseTokenProvider>\n      <div\n        css={`\n          display: flex;\n          align-items: center;\n        `}\n        {...props}\n      >\n        <Icon\n          address={address}\n          chainId={chainId}\n          iconUrl={iconUrl}\n          size={size}\n        />\n        {amount && (\n          <span\n            css={`\n              margin-right: ${size === 'large' ? 0.5 * GU : 0.25 * GU}px;\n              ${textStyle(size === 'large' ? 'title2' : 'body2')};\n              line-height: 1;\n            `}\n          >\n            {TokenAmountLib.format(amount, decimals, { digits: digits })}\n          </span>\n        )}\n        <Symbol address={address} size={size} symbol={symbol} />\n      </div>\n    </UseTokenProvider>\n  )\n})\n\nconst Icon = function Icon({ address, chainId, iconUrl, size }) {\n  const theme = useTheme()\n  const token = useToken(chainId === 1 ? address : '')\n  const { exists } = useImageExists(iconUrl || token.iconUrl)\n  return (\n    <div\n      css={`\n        display: flex;\n        width: ${3 * GU}px;\n        height: ${3 * GU}px;\n        margin-right: ${size === 'large' ? 1 * GU : 0.75 * GU}px;\n      `}\n    >\n      {exists ? (\n        <img alt=\"\" width=\"100%\" src={iconUrl || token.iconUrl} />\n      ) : (\n        <div\n          css={`\n            flex: 1;\n            border-radius: 100%;\n            border: 2px solid ${theme.border};\n          `}\n        />\n      )}\n    </div>\n  )\n}\n\nconst Symbol = function Symbol({ address, size, symbol }) {\n  const token = useToken(address)\n  const theme = useTheme()\n\n  return (\n    <span\n      css={`\n        color: ${theme.surfaceContentSecondary};\n        ${textStyle('body2')};\n        line-height: 1;\n        ${size === 'large' ? `align-self: flex-end;` : ''}\n        ${size === 'large' ? `transform: translateY(-1px);` : ''}\n      `}\n    >\n      {symbol || token.symbol}\n    </span>\n  )\n}\n\nIcon.propTypes = {\n  address: PropTypes.string,\n  chainId: PropTypes.number,\n  iconUrl: PropTypes.string,\n  size: PropTypes.oneOf(['large', 'medium']),\n}\n\nSymbol.propTypes = {\n  address: PropTypes.string,\n  size: PropTypes.oneOf(['large', 'medium']),\n  symbol: PropTypes.string,\n}\n\nTokenAmount.propTypes = {\n  address: PropTypes.string,\n  amount: PropTypes._bigIntish.isRequired,\n  chainId: PropTypes.number,\n  decimals: PropTypes.number.isRequired,\n  digits: PropTypes.number,\n  iconUrl: PropTypes.string,\n  size: PropTypes.oneOf(['large', 'medium']),\n  symbol: PropTypes.string,\n}\n\nTokenAmount.defaultProps = {\n  chainId: 1,\n  digits: 2,\n  size: 'medium',\n}\n\nexport default TokenAmount\n"],"names":["TokenAmount","React","memo","address","amount","chainId","decimals","digits","iconUrl","size","symbol","props","isValidAddress","isAddress","Error","GU","textStyle","TokenAmountLib","format","Icon","theme","useTheme","token","useToken","exists","useImageExists","border","Symbol","surfaceContentSecondary","propTypes","PropTypes","string","number","oneOf","_bigIntish","isRequired","defaultProps"],"mappings":"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"}