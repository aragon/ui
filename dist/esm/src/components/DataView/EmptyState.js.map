{"version":3,"file":"EmptyState.js","sources":["../../../../../src/components/DataView/EmptyState.js"],"sourcesContent":["import React, { useMemo } from 'react'\nimport PropTypes from 'prop-types'\nimport { useTheme } from '../../theme'\nimport { GU, textStyle } from '../../style'\nimport { usePublicUrl } from '../../providers/PublicUrl'\nimport LoadingRing from '../LoadingRing/LoadingRing'\nimport Link from '../Link/Link'\n\nimport illustrationRedImage from './assets/empty-state-illustration-red.png'\nimport illustrationBlueImage from './assets/empty-state-illustration-blue.png'\n\nfunction useEmptyStateParts(status, configurator, functionMode) {\n  const publicUrl = usePublicUrl()\n\n  const defaultConfigurator = useMemo(() => {\n    // eslint-disable-next-line react/prop-types\n    const Illustration = ({ path }) => (\n      <img src={publicUrl + path} alt=\"\" height={20 * GU} />\n    )\n    return {\n      default: {\n        displayLoader: false,\n        title: 'No data available.',\n        subtitle: null,\n        illustration: <Illustration path={illustrationBlueImage} />,\n        clearLabel: null,\n      },\n      loading: {\n        displayLoader: true,\n        title: 'Loading data…',\n        subtitle: null,\n        illustration: <Illustration path={illustrationBlueImage} />,\n        clearLabel: null,\n      },\n      'empty-filters': {\n        displayLoader: false,\n        title: 'No results found.',\n        subtitle: 'We can’t find any item matching your filter selection.',\n        illustration: <Illustration path={illustrationRedImage} />,\n        clearLabel: 'Clear filters',\n      },\n      'empty-search': {\n        displayLoader: false,\n        title: 'No results found.',\n        subtitle: 'We can’t find any item matching your search query.',\n        illustration: <Illustration path={illustrationRedImage} />,\n        clearLabel: 'Clear filters',\n      },\n    }\n  }, [publicUrl])\n\n  const parts = functionMode ? {} : configurator[status]\n\n  return {\n    ...defaultConfigurator[status],\n    ...parts,\n  }\n}\n\nfunction EmptyState({ status, configurator, onStatusEmptyClear }) {\n  const theme = useTheme()\n\n  const functionMode = typeof configurator === 'function'\n  const emptyState = useEmptyStateParts(status, configurator, functionMode)\n  const emptyStateOverride = functionMode ? configurator(status) : null\n\n  // Returning an element from the function mode overrides everything.\n  // If `null` or a non-element is returned, the default state is used instead.\n  if (React.isValidElement(emptyStateOverride)) {\n    return emptyStateOverride\n  }\n\n  return (\n    <section\n      css={`\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      `}\n    >\n      <div\n        css={`\n          width: ${31 * GU}px;\n          padding: ${8 * GU}px 0;\n          text-align: center;\n        `}\n      >\n        {emptyState.illustration && (\n          <div\n            css={`\n              padding-bottom: ${2 * GU}px;\n            `}\n          >\n            {emptyState.illustration}\n          </div>\n        )}\n\n        {emptyState.title && (\n          <h1\n            css={`\n              ${textStyle('title2')};\n              display: flex;\n              align-items: center;\n              justify-content: center;\n            `}\n          >\n            {emptyState.displayLoader && (\n              <LoadingRing\n                css={`\n                  margin-right: ${1 * GU}px;\n                `}\n              />\n            )}\n            {emptyState.title}\n          </h1>\n        )}\n\n        {emptyState.subtitle && (\n          <div\n            css={`\n              color: ${theme.surfaceContentSecondary};\n            `}\n          >\n            {emptyState.subtitle}{' '}\n            {emptyState.clearLabel && (\n              <Link onClick={onStatusEmptyClear}>{emptyState.clearLabel}</Link>\n            )}\n          </div>\n        )}\n      </div>\n    </section>\n  )\n}\n\nEmptyState.propTypes = {\n  status: PropTypes.oneOf([\n    'default',\n    'empty-filters',\n    'empty-search',\n    'loading',\n  ]),\n  configurator: PropTypes.object,\n  onStatusEmptyClear: PropTypes.func,\n}\n\nexport default EmptyState\n"],"names":["useEmptyStateParts","status","configurator","functionMode","publicUrl","usePublicUrl","defaultConfigurator","useMemo","Illustration","path","GU","default","displayLoader","title","subtitle","illustration","illustrationBlueImage","clearLabel","loading","illustrationRedImage","parts","EmptyState","onStatusEmptyClear","theme","useTheme","emptyState","emptyStateOverride","React","isValidElement","textStyle","surfaceContentSecondary","propTypes","PropTypes","oneOf","object","func"],"mappings":"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"}