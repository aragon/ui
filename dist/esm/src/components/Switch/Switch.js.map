{"version":3,"file":"Switch.js","sources":["../../../../../src/components/Switch/Switch.js"],"sourcesContent":["import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { Spring, animated } from 'react-spring'\n\nimport { useTheme } from '../../theme'\nimport { noop } from '../../utils'\nimport { springs, GU } from '../../style'\nimport FocusVisible from '../FocusVisible/FocusVisible'\n\nconst BORDER = 1\nconst WRAPPER_WIDTH = 5 * GU\nconst WRAPPER_HEIGHT = 2.25 * GU\n\nfunction Switch({ checked, disabled, onChange }) {\n  const theme = useTheme()\n  const [isFocused, setIsFocused] = useState(false)\n\n  const handleChange = disabled ? noop : () => onChange(!checked)\n\n  return (\n    <FocusVisible>\n      {({ focusVisible, onFocus }) => (\n        <span\n          onClick={e => {\n            e.preventDefault()\n            handleChange()\n          }}\n          css={`\n            position: relative;\n            display: inline-block;\n            width: ${WRAPPER_WIDTH}px;\n            height: ${WRAPPER_HEIGHT}px;\n            border: ${BORDER}px solid ${theme.border};\n            border-radius: ${WRAPPER_HEIGHT}px;\n            background-color: ${disabled\n              ? theme.controlBorder\n              : checked\n              ? theme.selected\n              : theme.control};\n            cursor: ${disabled ? 'default' : 'pointer'};\n\n            ${disabled\n              ? ''\n              : `\n                  &:active {\n                    border-color: ${theme.controlBorderPressed};\n                  }\n                `}\n\n            ${isFocused && focusVisible\n              ? `\n                  &:after {\n                    content: '';\n                    position: absolute;\n                    left: ${-BORDER * 2}px;\n                    top: ${-BORDER * 2}px;\n                    width: ${WRAPPER_WIDTH + BORDER * 2}px;\n                    height: ${WRAPPER_HEIGHT + BORDER * 2}px;\n                    border-radius: ${WRAPPER_HEIGHT}px;\n                    border: 2px solid ${theme.focus};\n                  }\n                `\n              : ''};\n          `}\n        >\n          <input\n            type=\"checkbox\"\n            onFocus={() => {\n              setIsFocused(true)\n              onFocus()\n            }}\n            onBlur={() => setIsFocused(false)}\n            checked={checked}\n            disabled={disabled}\n            onChange={handleChange}\n            css={`\n              opacity: 0;\n              pointer-events: none;\n            `}\n          />\n          <Spring\n            to={{\n              progress: checked\n                ? WRAPPER_WIDTH - WRAPPER_HEIGHT + BORDER\n                : BORDER,\n            }}\n            config={springs.smooth}\n            native\n          >\n            {({ progress }) => (\n              <animated.span\n                style={{\n                  transform: progress.interpolate(\n                    v => `translate3d(${v}px, 0, 0)`\n                  ),\n                }}\n                css={`\n                  position: absolute;\n                  left: 0;\n                  z-index: 1;\n                  top: ${BORDER}px;\n                  width: ${WRAPPER_HEIGHT - BORDER * 4}px;\n                  height: ${WRAPPER_HEIGHT - BORDER * 4}px;\n                  border-radius: ${WRAPPER_HEIGHT - BORDER * 4}px;\n                  background-color: ${theme.controlSurface};\n                  box-shadow: ${disabled\n                    ? 'none'\n                    : '0px 1px 3px rgba(0, 0, 0, 0.15)'};\n                `}\n              />\n            )}\n          </Spring>\n        </span>\n      )}\n    </FocusVisible>\n  )\n}\n\nSwitch.propTypes = {\n  checked: PropTypes.bool,\n  disabled: PropTypes.bool,\n  onChange: PropTypes.func,\n}\n\nSwitch.defaultProps = {\n  checked: false,\n  disabled: false,\n  onChange: noop,\n}\n\nexport default Switch\n"],"names":["BORDER","WRAPPER_WIDTH","GU","WRAPPER_HEIGHT","Switch","checked","disabled","onChange","theme","useTheme","isFocused","setIsFocused","useState","handleChange","noop","focusVisible","onFocus","e","preventDefault","border","controlBorder","selected","control","controlBorderPressed","focus","progress","springs","smooth","transform","interpolate","v","controlSurface","propTypes","PropTypes","bool","func","defaultProps"],"mappings":"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"}