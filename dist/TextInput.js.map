{"version":3,"file":"TextInput.js","sources":["../src/components/Input/TextInput.js"],"sourcesContent":["import React, { useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { useTheme } from '../../theme'\nimport { warnOnce } from '../../utils'\nimport { textStyle, GU, RADIUS } from '../../style'\n\n// Simple text input\nconst TextInput = React.forwardRef(\n  ({ autofocus, multiline, type, ...props }, ref) => {\n    const theme = useTheme()\n\n    const handleRef = useCallback(\n      element => {\n        if (ref) {\n          ref.current = element\n        }\n        if (autofocus && element) {\n          element.focus()\n        }\n      },\n      [autofocus, ref]\n    )\n\n    return (\n      <input\n        ref={handleRef}\n        as={multiline ? 'textarea' : 'input'}\n        type={multiline ? undefined : type}\n        {...props}\n        css={`\n          width: ${({ wide }) => (wide ? '100%' : 'auto')};\n          height: ${5 * GU}px;\n          padding: 0 ${1.5 * GU}px;\n          background: ${theme.surface};\n          border: 1px solid ${theme.border};\n          color: ${theme.surfaceContent};\n          border-radius: ${RADIUS}px;\n          appearance: none;\n          ${textStyle('body3')};\n\n          ${multiline\n            ? `\n              height: auto;\n              padding: ${1 * GU}px ${1.5 * GU}px;\n              resize: vertical;\n            `\n            : ''}\n\n          &:focus {\n            outline: none;\n            border-color: ${theme.selected};\n          }\n\n          &:read-only {\n            color: ${theme.hint};\n            border-color: ${theme.border};\n          }\n\n          &::placeholder {\n            color: ${theme.hint};\n            opacity: 1;\n          }\n\n          &:invalid {\n            box-shadow: none;\n          }\n        `}\n      />\n    )\n  }\n)\n\nTextInput.propTypes = {\n  autofocus: PropTypes.bool,\n  multiline: PropTypes.bool,\n  required: PropTypes.bool,\n  type: PropTypes.string,\n}\n\nTextInput.defaultProps = {\n  autofocus: false,\n  multiline: false,\n  required: false,\n  type: 'text',\n}\n\n// Text input wrapped to allow adornments\nconst WrapperTextInput = React.forwardRef(\n  (\n    {\n      adornment,\n      adornmentPosition,\n      adornmentSettings: {\n        width: adornmentWidth = 36,\n        padding: adornmentPadding = 4,\n      },\n      ...props\n    },\n    ref\n  ) => {\n    const theme = useTheme()\n    if (!adornment) {\n      return <TextInput ref={ref} {...props} />\n    }\n    return (\n      <div\n        css={`\n          display: inline-flex;\n          position: relative;\n          width: ${props.wide ? '100%' : 'max-content'};\n        `}\n      >\n        <TextInput\n          ref={ref}\n          css={`\n            ${adornmentPosition === 'end'\n              ? 'padding-right'\n              : 'padding-left'}: ${adornmentWidth - adornmentPadding * 2}px;\n          `}\n          {...props}\n        />\n        <div\n          css={`\n            position: absolute;\n            top: 0;\n            bottom: 0;\n            height: 100%;\n            ${adornmentPosition === 'end'\n              ? 'right'\n              : 'left'}: ${adornmentPadding}px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: ${theme.surfaceContentSecondary};\n          `}\n        >\n          {adornment}\n        </div>\n      </div>\n    )\n  }\n)\n\nWrapperTextInput.propTypes = {\n  ...TextInput.propTypes,\n  adornment: PropTypes.node,\n  adornmentPosition: PropTypes.oneOf(['start', 'end']),\n  adornmentSettings: PropTypes.shape({\n    width: PropTypes.number,\n    padding: PropTypes.number,\n  }),\n}\n\nWrapperTextInput.defaultProps = {\n  ...TextInput.defaultProps,\n  adornment: null,\n  adornmentPosition: 'start',\n  adornmentSettings: {},\n}\n\n// <input type=number> (only for compat)\nfunction TextInputNumber(props) {\n  warnOnce(\n    'TextInputNumber',\n    'TextInputNumber is deprecated. Please use TextInput instead.'\n  )\n  return <TextInput type=\"number\" {...props} />\n}\n\n// Multiline input (textarea element)\nfunction TextInputMultiline(props) {\n  return <TextInput multiline {...props} />\n}\n\nTextInputMultiline.propTypes = {\n  required: PropTypes.bool,\n}\nTextInputMultiline.defaultProps = {\n  required: false,\n}\n\nWrapperTextInput.Number = TextInputNumber\nWrapperTextInput.Multiline = TextInputMultiline\n\nexport default WrapperTextInput\n"],"names":["TextInput","React","forwardRef","autofocus","multiline","type","props","ref","theme","useTheme","handleRef","useCallback","element","current","focus","undefined","GU","surface","border","surfaceContent","textStyle","selected","hint","propTypes","PropTypes","bool","required","string","defaultProps","WrapperTextInput","adornment","adornmentPosition","adornmentSettings","width","adornmentWidth","padding","adornmentPadding","wide","surfaceContentSecondary","node","oneOf","shape","number","TextInputNumber","warnOnce","TextInputMultiline","Number","Multiline","RADIUS"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAOA,MAAMA,SAAS,gBAAGC,yBAAK,CAACC,UAAN,CAChB,CAAC;AAAEC,EAAAA,SAAF;AAAaC,EAAAA,SAAb;AAAwBC,EAAAA,IAAxB;AAA8B,KAAGC;AAAjC,CAAD,EAA2CC,GAA3C,KAAmD;AACjD,QAAMC,KAAK,GAAGC,cAAQ,EAAtB;AAEA,QAAMC,SAAS,GAAGC,iBAAW,CAC3BC,OAAO,IAAI;AACT,QAAIL,GAAJ,EAAS;AACPA,MAAAA,GAAG,CAACM,OAAJ,GAAcD,OAAd;AACD;;AACD,QAAIT,SAAS,IAAIS,OAAjB,EAA0B;AACxBA,MAAAA,OAAO,CAACE,KAAR;AACD;AACF,GAR0B,EAS3B,CAACX,SAAD,EAAYI,GAAZ,CAT2B,CAA7B;AAYA,sBACEN;AACE,IAAA,GAAG,EAAES,SADP;AAEE,IAAA,EAAE,EAAEN,SAAS,GAAG,UAAH,GAAgB,OAF/B;AAGE,IAAA,IAAI,EAAEA,SAAS,GAAGW,SAAH,GAAeV;AAHhC,KAIMC,KAJN;AAAA,WAOc,IAAIU,YAPlB;AAAA,YAQiB,MAAMA,YARvB;AAAA,YASkBR,KAAK,CAACS,OATxB;AAAA,YAUwBT,KAAK,CAACU,MAV9B;AAAA,YAWaV,KAAK,CAACW,cAXnB;AAAA,YAcMC,oBAAS,CAAC,OAAD,CAdf;AAAA,YAgBMhB,SAAS,GACN;AACf;AACA,yBAAyB,IAAIY,YAAG,MAAK,MAAMA,YAAG;AAC9C;AACA,aALqB,GAMP,EAtBR;AAAA,YA0BsBR,KAAK,CAACa,QA1B5B;AAAA,YA8Beb,KAAK,CAACc,IA9BrB;AAAA,aA+BsBd,KAAK,CAACU,MA/B5B;AAAA,aAmCeV,KAAK,CAACc;AAnCrB,KADF;AA8CD,CA9De,CAAlB;;;;;;;AAiEAtB,SAAS,CAACuB,SAAV,GAAsB;AACpBpB,EAAAA,SAAS,EAAEqB,eAAS,CAACC,IADD;AAEpBrB,EAAAA,SAAS,EAAEoB,eAAS,CAACC,IAFD;AAGpBC,EAAAA,QAAQ,EAAEF,eAAS,CAACC,IAHA;AAIpBpB,EAAAA,IAAI,EAAEmB,eAAS,CAACG;AAJI,CAAtB;AAOA3B,SAAS,CAAC4B,YAAV,GAAyB;AACvBzB,EAAAA,SAAS,EAAE,KADY;AAEvBC,EAAAA,SAAS,EAAE,KAFY;AAGvBsB,EAAAA,QAAQ,EAAE,KAHa;AAIvBrB,EAAAA,IAAI,EAAE;AAJiB,CAAzB;;MAQMwB,gBAAgB,gBAAG5B,yBAAK,CAACC,UAAN,CACvB,CACE;AACE4B,EAAAA,SADF;AAEEC,EAAAA,iBAFF;AAGEC,EAAAA,iBAAiB,EAAE;AACjBC,IAAAA,KAAK,EAAEC,cAAc,GAAG,EADP;AAEjBC,IAAAA,OAAO,EAAEC,gBAAgB,GAAG;AAFX,GAHrB;AAOE,KAAG9B;AAPL,CADF,EAUEC,GAVF,KAWK;AACH,QAAMC,KAAK,GAAGC,cAAQ,EAAtB;;AACA,MAAI,CAACqB,SAAL,EAAgB;AACd,wBAAO7B,wCAAC,SAAD;AAAW,MAAA,GAAG,EAAEM;AAAhB,OAAyBD,KAAzB,EAAP;AACD;;AACD,sBACEL;AAAA,aAIaK,KAAK,CAAC+B,IAAN,GAAa,MAAb,GAAsB;AAJnC,kBAOEpC;AACE,IAAA,GAAG,EAAEM;AADP,KAOMD,KAPN;AAAA,aAGMyB,iBAAiB,KAAK,KAAtB,GACE,eADF,GAEE,cALR;AAAA,aAK2BG,cAAc,GAAGE,gBAAgB,GAAG;AAL/D,KAPF,eAgBEnC;AAAA,aAMM8B,iBAAiB,KAAK,KAAtB,GACE,OADF,GAEE,MARR;AAAA,aAQmBK,gBARnB;AAAA,aAYa5B,KAAK,CAAC8B;AAZnB,KAeGR,SAfH,CAhBF,CADF;AAoCD,CArDsB;AAwDzBD,gBAAgB,CAACN,SAAjB,GAA6B,EAC3B,GAAGvB,SAAS,CAACuB,SADc;AAE3BO,EAAAA,SAAS,EAAEN,eAAS,CAACe,IAFM;AAG3BR,EAAAA,iBAAiB,EAAEP,eAAS,CAACgB,KAAV,CAAgB,CAAC,OAAD,EAAU,KAAV,CAAhB,CAHQ;AAI3BR,EAAAA,iBAAiB,EAAER,eAAS,CAACiB,KAAV,CAAgB;AACjCR,IAAAA,KAAK,EAAET,eAAS,CAACkB,MADgB;AAEjCP,IAAAA,OAAO,EAAEX,eAAS,CAACkB;AAFc,GAAhB;AAJQ,CAA7B;AAUAb,gBAAgB,CAACD,YAAjB,GAAgC,EAC9B,GAAG5B,SAAS,CAAC4B,YADiB;AAE9BE,EAAAA,SAAS,EAAE,IAFmB;AAG9BC,EAAAA,iBAAiB,EAAE,OAHW;AAI9BC,EAAAA,iBAAiB,EAAE;AAJW,CAAhC;;AAQA,SAASW,eAAT,CAAyBrC,KAAzB,EAAgC;AAC9BsC,EAAAA,oBAAQ,CACN,iBADM,EAEN,8DAFM,CAAR;AAIA,sBAAO3C,wCAAC,SAAD;AAAW,IAAA,IAAI,EAAC;AAAhB,KAA6BK,KAA7B,EAAP;AACD;;;AAGD,SAASuC,kBAAT,CAA4BvC,KAA5B,EAAmC;AACjC,sBAAOL,wCAAC,SAAD;AAAW,IAAA,SAAS;AAApB,KAAyBK,KAAzB,EAAP;AACD;;AAEDuC,kBAAkB,CAACtB,SAAnB,GAA+B;AAC7BG,EAAAA,QAAQ,EAAEF,eAAS,CAACC;AADS,CAA/B;AAGAoB,kBAAkB,CAACjB,YAAnB,GAAkC;AAChCF,EAAAA,QAAQ,EAAE;AADsB,CAAlC;AAIAG,gBAAgB,CAACiB,MAAjB,GAA0BH,eAA1B;AACAd,gBAAgB,CAACkB,SAAjB,GAA6BF,kBAA7B;;;;;qSAxJmB,CAAC;AAAER,EAAAA;AAAF,CAAD,KAAeA,IAAI,GAAG,MAAH,GAAY,kFAMvBW;;;;;;;;;;;;;;"}