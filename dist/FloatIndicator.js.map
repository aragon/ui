{"version":3,"file":"FloatIndicator.js","sources":["../src/components/FloatIndicator/FloatIndicator.js"],"sourcesContent":["import React, { useContext } from 'react'\nimport PropTypes from 'prop-types'\nimport { Transition, animated } from 'react-spring'\nimport { Inside } from 'use-inside'\nimport RootPortal from '../RootPortal/RootPortal'\nimport { useTheme } from '../../theme'\nimport { GU, RADIUS, textStyle, springs } from '../../style'\nimport { useViewport } from '../../providers/Viewport/Viewport'\nimport { ToastContext } from '../ToastHub/ToastHub'\n\nconst FloatIndicator = React.memo(function FloatIndicator({\n  children,\n  visible,\n  shift,\n  ...props\n}) {\n  const theme = useTheme()\n  const { below } = useViewport()\n  const { itemsVisible: toastItemsVisible } = useContext(ToastContext)\n\n  const wide = below('medium')\n  const horizontalSpacing = wide ? 2 * GU : 3 * GU\n  const horizontalSpacingEnd = horizontalSpacing + (shift || 0)\n\n  return (\n    <RootPortal>\n      <Transition\n        native\n        items={toastItemsVisible ? false : visible}\n        from={{ progress: 0 }}\n        enter={{ progress: 1 }}\n        leave={{ progress: 0 }}\n        config={springs.smooth}\n      >\n        {show =>\n          show &&\n          /* eslint-disable react/prop-types */\n          (({ progress }) => (\n            <div\n              css={`\n                position: absolute;\n                z-index: 1;\n                bottom: ${wide ? 2 * GU : 3 * GU}px;\n                display: flex;\n                justify-content: flex-end;\n                width: 100%;\n                padding: 0 ${horizontalSpacingEnd}px 0 ${horizontalSpacing}px;\n              `}\n            >\n              <animated.div\n                style={{\n                  pointerEvents: visible ? 'auto' : 'none',\n                  opacity: progress,\n                  transform: progress.interpolate(\n                    v => `translate3d(0, calc(10px * ${1 - v}), 0)`\n                  ),\n                }}\n                css={`\n                  flex-grow: ${Number(wide)};\n                  display: flex;\n                  align-items: center;\n                  height: ${6 * GU}px;\n                  padding: ${1 * GU}px ${2 * GU}px;\n                  ${textStyle('body3')};\n                  white-space: nowrap;\n                  color: ${theme.floatingContent};\n                  background: ${theme.floating};\n                  border: 1px solid ${theme.border};\n                  border-radius: ${RADIUS}px;\n                  cursor: default;\n                  justify-content: center;\n                `}\n                {...props}\n              >\n                <Inside name=\"FloatIndicator\">{children}</Inside>\n              </animated.div>\n            </div>\n          ))\n        /* eslint-enable react/prop-types */\n        }\n      </Transition>\n    </RootPortal>\n  )\n})\n\nFloatIndicator.propTypes = {\n  children: PropTypes.node.isRequired,\n  shift: PropTypes.number,\n  visible: PropTypes.bool,\n}\n\nFloatIndicator.defaultProps = {\n  shift: 0,\n  visible: true,\n}\n\nexport default FloatIndicator\n"],"names":["FloatIndicator","React","memo","children","visible","shift","props","theme","useTheme","below","useViewport","itemsVisible","toastItemsVisible","useContext","ToastContext","wide","horizontalSpacing","GU","horizontalSpacingEnd","RootPortal","Transition","progress","springs","smooth","show","pointerEvents","opacity","transform","interpolate","v","Number","textStyle","floatingContent","floating","border","Inside","propTypes","PropTypes","node","isRequired","number","bool","defaultProps","RADIUS"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAUMA,cAAc,gBAAGC,yBAAK,CAACC,IAAN,CAAW,SAASF,cAAT,CAAwB;AACxDG,EAAAA,QADwD;AAExDC,EAAAA,OAFwD;AAGxDC,EAAAA,KAHwD;AAIxD,KAAGC;AAJqD,CAAxB,EAK/B;AACD,QAAMC,KAAK,GAAGC,cAAQ,EAAtB;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAYC,oBAAW,EAA7B;AACA,QAAM;AAAEC,IAAAA,YAAY,EAAEC;AAAhB,MAAsCC,gBAAU,CAACC,qBAAD,CAAtD;AAEA,QAAMC,IAAI,GAAGN,KAAK,CAAC,QAAD,CAAlB;AACA,QAAMO,iBAAiB,GAAGD,IAAI,GAAG,IAAIE,YAAP,GAAY,IAAIA,YAA9C;AACA,QAAMC,oBAAoB,GAAGF,iBAAiB,IAAIX,KAAK,IAAI,CAAb,CAA9C;AAEA,sBACEJ,wCAACkB,qBAAD,qBACElB,wCAACmB,cAAD;AACE,IAAA,MAAM,MADR;AAEE,IAAA,KAAK,EAAER,iBAAiB,GAAG,KAAH,GAAWR,OAFrC;AAGE,IAAA,IAAI,EAAE;AAAEiB,MAAAA,QAAQ,EAAE;AAAZ,KAHR;AAIE,IAAA,KAAK,EAAE;AAAEA,MAAAA,QAAQ,EAAE;AAAZ,KAJT;AAKE,IAAA,KAAK,EAAE;AAAEA,MAAAA,QAAQ,EAAE;AAAZ,KALT;AAME,IAAA,MAAM,EAAEC,eAAO,CAACC;AANlB,KAQGC,IAAI,IACHA,IAAI,KAEH,CAAC;AAAEH,IAAAA;AAAF,GAAD,kBACCpB;AAAA,WAIcc,IAAI,GAAG,IAAIE,YAAP,GAAY,IAAIA,YAJlC;AAAA,YAQiBC,oBARjB;AAAA,YAQ6CF;AAR7C,kBAWEf;AACE,IAAA,KAAK,EAAE;AACLwB,MAAAA,aAAa,EAAErB,OAAO,GAAG,MAAH,GAAY,MAD7B;AAELsB,MAAAA,OAAO,EAAEL,QAFJ;AAGLM,MAAAA,SAAS,EAAEN,QAAQ,CAACO,WAAT,CACTC,CAAC,IAAK,8BAA6B,IAAIA,CAAE,OADhC;AAHN;AADT,KAuBMvB,KAvBN;AAAA,YASiBwB,MAAM,CAACf,IAAD,CATvB;AAAA,YAYc,IAAIE,YAZlB;AAAA,YAae,IAAIA,YAbnB;AAAA,YAa2B,IAAIA,YAb/B;AAAA,YAcMc,oBAAS,CAAC,OAAD,CAdf;AAAA,YAgBaxB,KAAK,CAACyB,eAhBnB;AAAA,aAiBkBzB,KAAK,CAAC0B,QAjBxB;AAAA,aAkBwB1B,KAAK,CAAC2B;AAlB9B,mBAyBEjC,wCAACkC,SAAD;AAAQ,IAAA,IAAI,EAAC;AAAb,KAA+BhC,QAA/B,CAzBF,CAXF,CAHE;AA2CN;AApDF,GADF,CADF;AA2DD,CAzEsB;AA2EvBH,cAAc,CAACoC,SAAf,GAA2B;AACzBjC,EAAAA,QAAQ,EAAEkC,eAAS,CAACC,IAAV,CAAeC,UADA;AAEzBlC,EAAAA,KAAK,EAAEgC,eAAS,CAACG,MAFQ;AAGzBpC,EAAAA,OAAO,EAAEiC,eAAS,CAACI;AAHM,CAA3B;AAMAzC,cAAc,CAAC0C,YAAf,GAA8B;AAC5BrC,EAAAA,KAAK,EAAE,CADqB;AAE5BD,EAAAA,OAAO,EAAE;AAFmB,CAA9B;;;;;;;;;;0VAvBmCuC;;;;"}