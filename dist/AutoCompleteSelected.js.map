{"version":3,"file":"AutoCompleteSelected.js","sources":["../src/components/AutoComplete/AutoCompleteSelected.js"],"sourcesContent":["import React, { useRef, useCallback } from 'react'\nimport PropTypes from 'prop-types'\nimport { RADIUS } from '../../style'\nimport { useTheme } from '../../theme'\nimport { identity, noop } from '../../utils'\nimport ButtonBase from '../ButtonBase/ButtonBase'\nimport AutoComplete from './AutoComplete'\n\nfunction AutoCompleteSelected({\n  forwardedRef,\n  itemButtonStyles,\n  items,\n  onChange,\n  onSelect,\n  onSelectedClick = noop,\n  placeholder,\n  renderItem,\n  required,\n  renderSelected = identity,\n  selected,\n  selectedButtonStyles = '',\n  value,\n  wide,\n}) {\n  const theme = useTheme()\n\n  const ref = forwardedRef\n  const selectedRef = useRef()\n\n  const handleSelect = useCallback(\n    selected => {\n      onSelect(selected)\n      setTimeout(() => {\n        selectedRef.current.focus()\n      }, 0)\n    },\n    [onSelect]\n  )\n  const handleSelectedClick = useCallback(() => {\n    onSelectedClick()\n    setTimeout(() => {\n      if (ref && ref.current) {\n        ref.current.select()\n        ref.current.focus()\n      }\n    }, 0)\n  }, [ref, onSelectedClick])\n\n  if (selected) {\n    return (\n      <ButtonBase\n        onClick={handleSelectedClick}\n        ref={selectedRef}\n        focusRingRadius={RADIUS}\n        focusRingSpacing={1}\n        css={`\n          height: 40px;\n          width: 100%;\n          text-align: left;\n          background: ${theme.surface};\n          cursor: pointer;\n          border: 1px solid ${theme.border};\n          padding: 4px 8px;\n          ${selectedButtonStyles};\n        `}\n      >\n        {renderSelected(selected)}\n      </ButtonBase>\n    )\n  }\n\n  return (\n    <AutoComplete\n      itemButtonStyles={itemButtonStyles}\n      items={items}\n      onChange={onChange}\n      onSelect={handleSelect}\n      placeholder={placeholder}\n      ref={ref}\n      renderItem={renderItem}\n      required={required}\n      value={value}\n      wide={wide}\n    />\n  )\n}\n\nAutoCompleteSelected.propTypes = {\n  forwardedRef: PropTypes.object,\n  itemButtonStyles: PropTypes.string,\n  items: PropTypes.array.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onSelect: PropTypes.func.isRequired,\n  onSelectedClick: PropTypes.func,\n  placeholder: PropTypes.string,\n  renderItem: PropTypes.func,\n  renderSelected: PropTypes.func,\n  required: PropTypes.bool,\n  selected: PropTypes.object,\n  selectedButtonStyles: PropTypes.string,\n  value: PropTypes.string,\n  wide: PropTypes.bool,\n}\n\nconst AutoCompleteSelectedMemo = React.memo(AutoCompleteSelected)\n\nexport default React.forwardRef((props, ref) => (\n  <AutoCompleteSelectedMemo {...props} forwardedRef={ref} />\n))\n"],"names":["AutoCompleteSelected","forwardedRef","itemButtonStyles","items","onChange","onSelect","onSelectedClick","noop","placeholder","renderItem","required","renderSelected","identity","selected","selectedButtonStyles","value","wide","theme","useTheme","ref","selectedRef","useRef","handleSelect","useCallback","setTimeout","current","focus","handleSelectedClick","select","React","RADIUS","surface","border","AutoComplete","propTypes","PropTypes","object","string","array","isRequired","func","bool","AutoCompleteSelectedMemo","memo","forwardRef","props"],"mappings":"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"}