{"version":3,"file":"SearchInput.js","sources":["../../src/components/Input/SearchInput.js"],"sourcesContent":["import React, { useRef, useCallback } from 'react'\nimport ButtonIcon from '../Button/ButtonIcon'\nimport TextInput from './TextInput'\nimport { IconSearch, IconCross } from '../../icons'\nimport { useTheme } from '../../theme'\n\nconst EMPTY = ''\n\nconst SearchInput = React.forwardRef(({ onChange, ...props }, ref) => {\n  const theme = useTheme()\n  const fallbackRef = useRef()\n  const _ref = ref || fallbackRef\n\n  const handleChange = useCallback(\n    ev => {\n      const { value } = ev.currentTarget\n      onChange(value, { inputChangeEvent: ev })\n    },\n    [onChange]\n  )\n\n  const handleClearClick = useCallback(\n    ev => {\n      onChange(EMPTY, { clearClickEvent: ev })\n      if (_ref.current) {\n        _ref.current.focus()\n      }\n    },\n    [onChange, _ref]\n  )\n\n  return (\n    <TextInput\n      ref={_ref}\n      adornment={\n        (props.value || '') === EMPTY ? (\n          <IconSearch\n            css={`\n              color: ${theme.surfaceIcon};\n            `}\n          />\n        ) : (\n          <ButtonIcon\n            onClick={handleClearClick}\n            label=\"Clear search input\"\n            css={`\n              color: ${theme.surfaceIcon};\n            `}\n          >\n            <IconCross />\n          </ButtonIcon>\n        )\n      }\n      adornmentPosition=\"end\"\n      onChange={handleChange}\n      {...props}\n    />\n  )\n})\n\nSearchInput.propTypes = {\n  ...TextInput.propTypes,\n}\n\nexport default SearchInput\n"],"names":["EMPTY","SearchInput","React","forwardRef","ref","onChange","props","theme","useTheme","fallbackRef","useRef","_ref","handleChange","useCallback","ev","value","currentTarget","inputChangeEvent","handleClearClick","clearClickEvent","current","focus","surfaceIcon","IconCross","propTypes","TextInput"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMA,IAAMA,KAAK,GAAG,EAAd;;;;;;;;;;;;;;;;AAEA,IAAMC,WAAW,GAAGC,KAAK,CAACC,UAAN,CAAiB,iBAAyBC,GAAzB,EAAiC;AAAA,MAA9BC,QAA8B,SAA9BA,QAA8B;AAAA,MAAjBC,KAAiB;;AACpE,MAAMC,KAAK,GAAGC,QAAQ,EAAtB;AACA,MAAMC,WAAW,GAAGC,MAAM,EAA1B;;AACA,MAAMC,IAAI,GAAGP,GAAG,IAAIK,WAApB;;AAEA,MAAMG,YAAY,GAAGC,WAAW,CAC9B,UAAAC,EAAE,EAAI;AAAA,QACIC,KADJ,GACcD,EAAE,CAACE,aADjB,CACID,KADJ;AAEJV,IAAAA,QAAQ,CAACU,KAAD,EAAQ;AAAEE,MAAAA,gBAAgB,EAAEH;AAApB,KAAR,CAAR;AACD,GAJ6B,EAK9B,CAACT,QAAD,CAL8B,CAAhC;AAQA,MAAMa,gBAAgB,GAAGL,WAAW,CAClC,UAAAC,EAAE,EAAI;AACJT,IAAAA,QAAQ,CAACL,KAAD,EAAQ;AAAEmB,MAAAA,eAAe,EAAEL;AAAnB,KAAR,CAAR;;AACA,QAAIH,IAAI,CAACS,OAAT,EAAkB;AAChBT,MAAAA,IAAI,CAACS,OAAL,CAAaC,KAAb;AACD;AACF,GANiC,EAOlC,CAAChB,QAAD,EAAWM,IAAX,CAPkC,CAApC;AAUA,sBACE,oBAAC,SAAD;AACE,IAAA,GAAG,EAAEA,IADP;AAEE,IAAA,SAAS,EACP,CAACL,KAAK,CAACS,KAAN,IAAe,EAAhB,MAAwBf,KAAxB,gBACE;AAAA,YAEaO,KAAK,CAACe;AAFnB,MADF,gBAOE;AACE,MAAA,OAAO,EAAEJ,gBADX;AAEE,MAAA,KAAK,EAAC,oBAFR;AAAA,aAIaX,KAAK,CAACe;AAJnB,oBAOE,oBAACC,SAAD,OAPF,CAVN;AAqBE,IAAA,iBAAiB,EAAC,KArBpB;AAsBE,IAAA,QAAQ,EAAEX;AAtBZ,KAuBMN,KAvBN,EADF;AA2BD,CAlDmB,CAApB;AAoDAL,WAAW,CAACuB,SAAZ,qBACKC,SAAS,CAACD,SADf;;;;"}